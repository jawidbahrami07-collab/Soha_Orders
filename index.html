<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ÙØ±Ù… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø·Ø¨ÛŒØ¹ÛŒ Ù†ÙˆØ±Ù‡ Ø³Ù‡Ø§</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: "Vazirmatn", sans-serif;
      background: linear-gradient(180deg, #f8fff9, #fff);
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: start;
      min-height: 100vh;
      color: #222;
    }
    .card {
      width: 95%;
      max-width: 480px;
      background: #fff;
      border-radius: 18px;
      padding: 22px;
      margin-top: 20px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.06);
    }

    .welcome {
      text-align: center;
      font-size: 22px;
      font-weight: 700;
      color: #0b8a5f;
      background: linear-gradient(90deg, #00c853, #b2ff59);
      padding: 10px 15px;
      border-radius: 12px;
      margin-bottom: 25px;
    }

    .poem {
      text-align: center;
      font-size: 14px;
      font-style: italic;
      color: #666;
      border-bottom: 1px solid #0b8a5f;
      border-top: 1px solid #0b8a5f;
      padding: 10px 0;
      margin-bottom: 25px;
      letter-spacing: 1px;
    }

    .lead {
      text-align: center;
      font-size: 15px;
      font-weight: 700;
      color: #0b8a5f;
      margin-top: 0;
      margin-bottom: 18px;
      line-height: 1.5;
    }

    label {
      display: block;
      font-size: 14px;
      margin-bottom: 6px;
      color: #333;
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 14px;
      margin-bottom: 12px;
    }

    .product {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 10px;
    }

    .product span {
      font-weight: 600;
    }

    .prod-row {
      display: flex;
      gap: 8px;
    }

    .prod-row input {
      flex: 1;
    }

    .prod-row select {
      width: 120px;
    }

    button {
      width: 100%;
      background: #0b8a5f;
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 12px;
      font-size: 15px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #087a55;
    }

    .status {
      text-align: center;
      font-size: 14px;
      margin-top: 10px;
    }

    footer {
      text-align: center;
      font-size: 13px;
      color: #777;
      margin-top: 15px;
    }

    footer a {
      text-decoration: none;
      color: #0b8a5f;
    }

    @media (max-width: 500px) {
      .prod-row {
        flex-direction: column;
      }
      .prod-row select {
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <div class="card">
    <p class="welcome">Ø¨Ù‡ ÙØ±Ù… Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø·Ø¨ÛŒØ¹ÛŒ Ù†ÙˆØ±Ù‡ Ø³Ù‡Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ğŸ’</p>

    <p class="poem">
      Ø¬Ø² ØªÙˆÚ©Ù„ Ø¨Ø± Ø®Ø¯Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¯Ø± Ú©Ø§Ø± Ù†ÛŒØ³Øª<br />
      Ù‡Ø± Ú©Ù‡ Ø±Ø§ Ø¨Ø§Ø´Ø¯ ØªÙˆÚ©Ù„ Ú©Ø§Ø± Ø§Ùˆ Ø¯Ø´ÙˆØ§Ø± Ù†ÛŒØ³Øª
    </p>

    <p class="lead">Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ùˆ Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ø¨Ø§ Ø¯Ù‚Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>

    <form id="orderForm">
      <label>ğŸ‘¤ Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
      <input type="text" name="name" required />

      <label>ğŸ“± Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³</label>
      <input type="tel" name="phone" required placeholder="09xxxxxxxxx" />

      <label>ğŸ  Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„</label>
      <textarea name="address" rows="2" required></textarea>

      <label>ğŸ“¨ Ú©Ø¯ Ù¾Ø³ØªÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
      <input type="text" name="postal_code" placeholder="Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" />

      <h3 style="margin-top: 18px; font-size: 16px">ğŸµ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø·Ø¨ÛŒØ¹ÛŒ Ù†ÙˆØ±Ù‡ Ø³Ù‡Ø§</h3>

      <div class="product">
        <span>ğŸŸ¢ Ø³Ù‡Ø§ ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ Ø³Ø¨Ø²</span>
        <div class="prod-row">
          <input type="number" name="saha500_qty" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
          <select name="saha500_unit">
            <option value="Ú©Ø§Ø±ØªÙ†">Ú©Ø§Ø±ØªÙ†</option>
            <option value="Ø¨Ø³ØªÙ‡">Ø¨Ø³ØªÙ‡</option>
          </select>
        </div>
      </div>

      <div class="product">
        <span>ğŸŸ¡ Ø³Ù‡Ø§ Û²ÛµÛ° Ú¯Ø±Ù…ÛŒ Ø³Ø§Ø´Ù‡</span>
        <div class="prod-row">
          <input type="number" name="saha250_qty" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
          <select name="saha250_unit">
            <option value="Ú©Ø§Ø±ØªÙ†">Ú©Ø§Ø±ØªÙ†</option>
            <option value="Ø¨Ø³ØªÙ‡">Ø¨Ø³ØªÙ‡</option>
          </select>
        </div>
      </div>

      <div class="product">
        <span>ğŸ“¦ Ø¨Ø§Ú©Ø³ Ù¾ÙˆÚ† ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ</span>
        <div class="prod-row">
          <input type="number" name="box1kg_qty" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
          <select name="box1kg_unit">
            <option value="Ú©Ø§Ø±ØªÙ†">Ú©Ø§Ø±ØªÙ†</option>
            <option value="Ø¨Ø³ØªÙ‡">Ø¨Ø³ØªÙ‡</option>
          </select>
        </div>
      </div>

      <div class="product">
        <span>âœ¨ Ù¾Ø§Ú©Øª Ø·Ù„Ø§ÛŒÛŒ Ù¾Ù†Ø¬Ø±Ù‡â€ŒØ¯Ø§Ø±</span>
        <div class="prod-row">
          <input type="number" name="goldPack_qty" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
          <select name="goldPack_unit">
            <option value="Ú©Ø§Ø±ØªÙ†">Ú©Ø§Ø±ØªÙ†</option>
            <option value="Ø¨Ø³ØªÙ‡">Ø¨Ø³ØªÙ‡</option>
          </select>
        </div>
      </div>

      <div class="product">
        <span>ğŸ¤ Ù¾Ø§Ú©Øª ÛŒÚ© Ú©ÛŒÙ„ÙˆÛŒÛŒ Ø³Ø§Ø¯Ù‡</span>
        <div class="prod-row">
          <input type="number" name="plainPack_qty" min="0" placeholder="ØªØ¹Ø¯Ø§Ø¯" />
          <select name="plainPack_unit">
            <option value="Ú©Ø§Ø±ØªÙ†">Ú©Ø§Ø±ØªÙ†</option>
            <option value="Ø¨Ø³ØªÙ‡">Ø¨Ø³ØªÙ‡</option>
          </select>
        </div>
      </div>

      <label>ğŸ“ ØªÙˆØ¶ÛŒØ­Ø§Øª (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
      <textarea name="note" rows="2" placeholder="Ù…Ø«Ù„Ø§Ù‹ Ø§Ø±Ø³Ø§Ù„ ÙÙˆØ±ÛŒ ÛŒØ§ Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„..."></textarea>

      <button type="submit">ğŸ“¦ Ø«Ø¨Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´</button>
      <div id="status" class="status"></div>
    </form>

    <footer>
      <a href="https://wa.me/989037122660" target="_blank">ğŸ“ ØªÙ…Ø§Ø³ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ ÙˆØ§ØªØ³Ø§Ù¾</a>
    </footer>
  </div>

  <script>
  const form = document.getElementById("orderForm");
  const statusBox = document.getElementById("status");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusBox.style.color = "black";
    statusBox.textContent = "Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´...";

    const data = Object.fromEntries(new FormData(form));

    try {
      // Ø§Ú¯Ø± Ø³Ø±ÙˆØ± Ø´Ù…Ø§ Ø¯Ø± Ø¯Ø§Ù…Ù†Ù‡/Ù¾ÙˆØ±Øª Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŒ Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„ Ø±Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯:
      // const endpoint = "https://your-domain.com/api/order";
      const endpoint = "/api/order";
      const res = await fetch(endpoint, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      const json = await res.json();
      if (json.ok) {
        statusBox.style.color = "green";
        statusBox.textContent = `âœ… Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯ â€” Ú©Ø¯ Ø³ÙØ§Ø±Ø´: ${json.order_code}`;
        form.reset();

        if (json.download) {
          const a = document.createElement("a");
          a.href = json.download;
          a.textContent = "â¤“ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ú©Ø³Ù„ Ø³ÙØ§Ø±Ø´â€ŒÙ‡Ø§";
          a.style.display = "block";
          a.style.marginTop = "8px";
          a.target = "_blank";
          statusBox.appendChild(a);
        }
      } else {
        statusBox.style.color = "orange";
        statusBox.textContent = "âš ï¸ Ø®Ø·Ø§: " + (json.message || json.error || "Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´");
      }
    } catch (err) {
      statusBox.style.color = "red";
      statusBox.textContent = "âŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†Ø´Ø¯.";
      console.error(err);
    }
  });
</script>


</body>
</html>
